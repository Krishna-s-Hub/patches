From 6bfb5abfa5db1522c6fd8000cbd8ef46a5748268 Mon Sep 17 00:00:00 2001
From: Omkar Chandorkar <gotenksIN@aosip.dev>
Date: Thu, 18 Dec 2025 15:31:46 +0000
Subject: [PATCH] sweet: Enable Google Dialer call recording feature

Signed-off-by: K R I S H N A <krishnakripa34567@gmail.com>
---
 device.mk                                                    | 4 ++++
 ...gle.android.apps.dialer.call_recording_audio.features.xml | 5 +++++
 2 files changed, 9 insertions(+)
 create mode 100644 permissions/com.google.android.apps.dialer.call_recording_audio.features.xml

diff --git a/device.mk b/device.mk
index 4686d1d7..d63ecc06 100644
--- a/device.mk
+++ b/device.mk
@@ -32,6 +32,10 @@ PRODUCT_COPY_FILES += \
 PRODUCT_PACKAGES += \
     hwcomposer.sweet
 
+# Google Dialer Call recording
+PRODUCT_COPY_FILES += \
+    $(LOCAL_PATH)/permissions/com.google.android.apps.dialer.call_recording_audio.features.xml:$(TARGET_COPY_OUT_PRODUCT)/etc/permissions/com.google.android.apps.dialer.call_recording_audio.features.xml
+
 # Init scripts
 PRODUCT_COPY_FILES += \
     $(LOCAL_PATH)/rootdir/etc/init.sweet.rc:$(TARGET_COPY_OUT_VENDOR)/etc/init/init.sweet.rc
diff --git a/permissions/com.google.android.apps.dialer.call_recording_audio.features.xml b/permissions/com.google.android.apps.dialer.call_recording_audio.features.xml
new file mode 100644
index 00000000..2673d8d5
--- /dev/null
+++ b/permissions/com.google.android.apps.dialer.call_recording_audio.features.xml
@@ -0,0 +1,5 @@
+<?xml version="1.0" encoding="utf-8"?>
+<permissions>
+    <!-- Feature for Google Dialer Call Recording -->
+    <feature name="com.google.android.apps.dialer.call_recording_audio" />
+</permissions>
